@startuml
|MeshCommunicator|
start
:onMsg;
if(forward == this->nodeID) then (true)
:processMessage;
if (case: LOCATION) then ([true])
:processLocation;
elseif (case: REQUESTLOCATION) then ([true])
:processRequestLocation;
elseif (case: PRESENT) then ([true])
:processIntroduction;
elseif (case: DECEASED) then ([true])
:processDeceased;
elseif (case: HEARTBEAT) then ([true])
:processHeartbeat;
elseif (case: MOVE_TO_LOCATION) then ([true])
:sendGoalToEngine;
elseif (case: MOVEMENT_NEGOTIATION) then ([true])
:processMovementNegotiationMessage;
endif
else (false)
:forward message;
endif
stop
@enduml