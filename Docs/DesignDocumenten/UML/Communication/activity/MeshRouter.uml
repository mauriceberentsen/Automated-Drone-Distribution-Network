@startuml
|MeshnetworkRouter|
start
|IWirelessCommunication|
:startAntenna;
|MeshnetworkRouter|
if(debug) then (false)
#white:nothing;
else(true)
|#lightgrey|IWirelessCommunication|
:DebugingMode(true);
|MeshnetworkRouter|
endif
|IRoutingTechnique|
:startRouting;
|MeshnetworkRouter|
	while (program running) is ([time passed])
|IWirelessCommunication|

    if(on) then ([false])
|MeshnetworkRouter|
#white:nothing;
    else ([true])
    |IRoutingTechnique|
    :maintainRouting;
    |MeshnetworkRouter|
    if(connectedToGateway) then([true])

    	if(knowGatewayLocation) then ([false])
        :requestLocation(gateway);
        endif
        :sendHeartbeatToGateway;
    else ([false])
    :lostConnection;
    endif
    endif
    endwhile ([false])
stop
@enduml