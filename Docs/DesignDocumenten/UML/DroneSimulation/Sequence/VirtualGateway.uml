@startuml
participant ":VirtualGateway" as VG

participant "meshgateway:MeshnetworkGateway" as VG
participant "routing:HybrideLMRouting" as routing
participant "engine:RosDroneEngineConnector" as engine
participant "communication:VirtualNRF24" as NRF24
participant "internet:RosInternetMock" as internet
participant "meshnetworkGateway:MeshnetworkGateway" as MG

VG -> VG : Load(physics::ModelPtr _parent,\nsdf::ElementPtr _sdf)
note over VG : Get the nodeID,\ndroneID and debug\n from SDF

create routing
VG -> routing : <<create>> HybrideLMRouting( )
create engine
VG -> engine : <<create>> RosDroneEngineConnector( droneID )
create NRF24
VG -> NRF24 : <<create>> VirtualNRF24( )
create internet
VG -> internet : <<create>> RosInternetMock( )
create MG
VG -> MG : <<create>> MeshnetworkGateway( nodeID, droneID, debug, routing, engine, NRF24, internet )
VG -> MG : init()
@enduml